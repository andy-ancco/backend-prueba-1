{% extends 'base.html' %}

{% block title %}Lista de Visitas{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 py-10 px-6">

  <div class="max-w-6xl mx-auto bg-white shadow-2xl rounded-2xl p-10 border border-gray-100">
    <h1 class="text-4xl font-extrabold text-gray-900 mb-6 text-center tracking-tight">
      ğŸ‘¥ Lista de Visitas
    </h1>

    <!-- BotÃ³n Nueva Visita -->
    <div class="flex justify-end mb-6">
      <a href="{% url 'nueva_visita' %}"
        class="px-5 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 active:scale-95 shadow-md transition font-semibold flex items-center gap-2">
        <i class="fas fa-user-plus"></i> Nueva Visita
      </a>
    </div>

    <!-- Tabla -->
    <div class="overflow-hidden rounded-xl border border-gray-200 shadow-sm">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-green-100/80">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide">Nombre</th>
            <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide">RUT</th>
            <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide">Motivo</th>
            <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide">Doctor</th>
            <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide">Ãrea</th>
            <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide">Entrada</th>
            <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide">Salida</th>
            <th class="px-6 py-3 text-center text-xs font-semibold uppercase tracking-wide">Acciones</th>
          </tr>
        </thead>

        <tbody class="divide-y divide-gray-100 bg-white">
          {% for visita in visitas %}
          <tr class="hover:bg-gray-50/70 transition cursor-pointer">
            <td class="px-6 py-4">{{ visita.nombre }}</td>
            <td class="px-6 py-4">{{ visita.rut }}</td>
            <td class="px-6 py-4">{{ visita.motivo_visita }}</td>
            <td class="px-6 py-4">{{ visita.doctor }}</td>
            <td class="px-6 py-4">{{ visita.area }}</td>
            <td class="px-6 py-4">{{ visita.hora_entrada }}</td>
            <td class="px-6 py-4">{{ visita.hora_salida }}</td>

            <td class="px-6 py-4 text-center">
              <div class="flex items-center justify-center gap-3">

                <!-- Ver -->
                <a href="{% url 'detalle_visita' visita.id %}"
                  class="p-2 rounded-lg text-white bg-blue-500 hover:bg-blue-600 transition shadow-sm">
                  <i class="fas fa-eye"></i>
                </a>

                <!-- Editar -->
                <a href="{% url 'editar_visita' visita.id %}"
                  class="p-2 rounded-lg text-white bg-yellow-500 hover:bg-yellow-600 transition shadow-sm">
                  <i class="fas fa-edit"></i>
                </a>

                <!-- Eliminar -->
                <a href="{% url 'eliminar_visita' visita.id %}"
                  class="p-2 rounded-lg text-white bg-red-500 hover:bg-red-600 transition shadow-sm">
                  <i class="fas fa-trash"></i>
                </a>

              </div>
            </td>
          </tr>

          {% empty %}
          <tr>
            <td colspan="8" class="text-center text-gray-500 py-8 italic">
              ğŸš« No hay visitas registradas.
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>
</div>
{% endblock %}